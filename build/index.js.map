{"version":3,"file":"index.js","sources":["../src/types.ts","../src/utils.ts","../src/var.utils.ts","../src/records/records.ts","../node_modules/tslib/tslib.es6.js","../src/records/where-record.ts","../src/index.ts"],"sourcesContent":["/**\n * Coldmind AB (\"COMPANY\") CONFIDENTIAL\n * Unpublished Copyright (c) 2020 Coldmind AB, All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains the property of COMPANY. The intellectual and technical concepts contained\n * herein are proprietary to COMPANY and may be covered by U.S. and Foreign Patents, patents in process, and are protected by trade secret or copyright law.\n * Dissemination of this information or reproduction of this material is strictly forbidden unless prior written permission is obtained\n * from COMPANY.  Access to the source code contained herein is hereby forbidden to anyone except current COMPANY employees, managers or contractors who have executed\n * Confidentiality and Non-disclosure agreements explicitly covering such access.\n *\n * The copyright notice above does not evidence any actual or intended publication or disclosure  of  this source code, which includes\n * information that is confidential and/or proprietary, and is a trade secret, of  COMPANY.   ANY REPRODUCTION, MODIFICATION, DISTRIBUTION, PUBLIC  PERFORMANCE,\n * OR PUBLIC DISPLAY OF OR THROUGH USE  OF THIS  SOURCE CODE  WITHOUT  THE EXPRESS WRITTEN CONSENT OF COMPANY IS STRICTLY PROHIBITED, AND IN VIOLATION OF APPLICABLE\n * LAWS AND INTERNATIONAL TREATIES.  THE RECEIPT OR POSSESSION OF  THIS SOURCE CODE AND/OR RELATED INFORMATION DOES NOT CONVEY OR IMPLY ANY RIGHTS\n * TO REPRODUCE, DISCLOSE OR DISTRIBUTE ITS CONTENTS, OR TO MANUFACTURE, USE, OR SELL ANYTHING THAT IT  MAY DESCRIBE, IN WHOLE OR IN PART.\n *\n * Created by Patrik Forsberg <patrik.forsberg@coldmind.com>\n * File Date: 2018-04-02 14:09\n */\n\nexport enum SqlCommands {\n\tDbInsert          = \"INSERT\",\n\tDbMySqlReplace    = \"REPLACE\",\n\tDbSelect          = \"SELECT\",\n\tDbUpdate          = \"UPDATE\",\n\tDbDelete          = \"DELETE\",\n\tDbFrom            = \"FROM\",\n\tDbWhere           = \"WHERE\",\n\tDbSet             = \"SET\",\n\tDbDrop            = \"DROP\"\n}\n\nexport enum CompareType {\n\tEqual,\n\tSafeEqual, // (Safe to compare NULL values)\n\tNotEqual,\n\tGreaterThan,\n\tGreaterOrEquals,\n\tLessThan,\n\tLessOrEquals,\n\tBetween,\n\tInValue,\n\tInQuery,\n\tOr,\n\tIn,\n}\n\nexport enum OrderType {\n\tNone,\n\tAsc,\n\tDesc\n}\n\nexport enum DataType {\n\tVarChar,\n\tBoolean,\n\tInt,\n\tDate\n}\n\nenum JoinType {\n\tInner,\n\tOuter,\n\tLeft,\n\tRight,\n\tCross\n}\n\ninterface Column {\n\tname: string;\n\tvalue: any;\n\tjoin?: JoinType;\n}\n\nexport interface IDRecord { }\n\nexport type ColumnArray = Array<Column>;\n","/**\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential\n * @author: Patrik Forsberg <patrik.forsberg@coldmind.com>\n * @date: February 2018\n * \n * Partly based on DynUtils\n * https://github.com/mysqljs/sqlstring/blob/master/lib/DynUtils.js\n */\n\nconst ID_GLOBAL_REGEXP    = /`/g;\nconst QUAL_GLOBAL_REGEXP  = /\\./g;\nconst CHARS_GLOBAL_REGEXP = /[\\0\\b\\t\\n\\r\\x1a\\\"\\'\\\\]/g; // eslint-disable-line no-control-regex\nconst CHARS_ESCAPE_MAP    = {\n\t'\\0'   : '\\\\0',\n\t'\\b'   : '\\\\b',\n\t'\\t'   : '\\\\t',\n\t'\\n'   : '\\\\n',\n\t'\\r'   : '\\\\r',\n\t'\\x1a' : '\\\\Z',\n\t'\"'    : '\\\\\"',\n\t'\\''   : '\\\\\\'',\n\t'\\\\'   : '\\\\\\\\'\n};\n\nimport { CompareType } from './types';\n\nexport enum VarType {\n\tNone,\n\tNullOrUndefined,\n\tString,\n\tNumber,\n\tBoolean,\n\tObject,\n\tDate,\n\tArray,\n\tBuffer\n}\n\nexport class DynUtils {\n\tpublic static prepMySqlDate(dateObj: Date): string {\n\t\tdateObj.setHours(dateObj.getHours() - 2);\n\t\treturn dateObj.toISOString().slice(0, 19).replace('T', ' ');\n\t}\n\n\tpublic static parseCompareType(value1: any, value2: any, whereType: CompareType) {\n\t\tlet sql = \"\";\n\n\t\tswitch (whereType) {\n\t\t\tcase CompareType.Equal:\n\t\t\t\tsql = value1 + \" = \" + DynUtils.escape(value2);\n\t\t\t\tbreak;\n\n\t\t\t// Equal (Safe to compare NULL values)\n\t\t\tcase CompareType.SafeEqual:\n\t\t\t\tsql = value1 + \" <=> \" + DynUtils.escape(value2);\n\t\t\t\tbreak;\n\n\t\t\tcase CompareType.GreaterThan:\n\t\t\t\tsql = value1 + \" > \" + DynUtils.escape(value2);\n\t\t\t\tbreak;\n\n\t\t\tcase CompareType.GreaterOrEquals:\n\t\t\t\tsql = value1 + \" >= \" + DynUtils.escape(value2);\n\t\t\t\tbreak;\n\n\t\t\tcase CompareType.LessThan:\n\t\t\t\tsql = value1 + \" < \" + DynUtils.escape(value2);\n\t\t\t\tbreak;\n\n\t\t\tcase CompareType.LessOrEquals:\n\t\t\t\tsql = value1 + \" <= \" + DynUtils.escape(value2);\n\t\t\t\tbreak;\n\n\t\t\tcase CompareType.Between:\n\t\t\t\tsql = \"BETWEEN \" + DynUtils.escape(value1) + \" AND \" + DynUtils.escape(value2);\n\t\t\t\tbreak;\n\n\t\t\tcase CompareType.Or:\n\t\t\t\tsql = value1 + \" <= \" + DynUtils.escape(value2);\n\t\t\t\tbreak;\n\t\t\tdefault: {\n\t\t\t\tsql = 'UNKNOWN_DIRECTIVE';\n\t\t\t}\n\t\t}\n\n\t\treturn sql;\n\t}\n\n\tpublic static escapeId(val: any, forbidQualified = false): string {\n\t\tif (Array.isArray(val)) {\n\t\t\tlet sql = '';\n\n\t\t\tfor (let i = 0; i < val.length; i++) {\n\t\t\t\tsql += (i === 0 ? '' : ', ') + DynUtils.escapeId(val[i], forbidQualified);\n\t\t\t}\n\n\t\t\treturn sql;\n\n\t\t} else if (forbidQualified) {\n\t\t\treturn '`' + String(val).replace(ID_GLOBAL_REGEXP, '``') + '`';\n\n\t\t} else {\n\t\t\treturn '`' + String(val).replace(ID_GLOBAL_REGEXP, '``').replace(QUAL_GLOBAL_REGEXP, '`.`') + '`';\n\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param val\n\t * @param stringifyObjects\n\t * @param timeZone\n\t */\n\tpublic static escape(val: any, stringifyObjects = true, timeZone = 0): string {\n\t\tif (val === undefined || val === null) {\n\t\t\treturn 'NULL';\n\t\t}\n\n\t\tswitch (typeof val) {\n\t\t\tcase 'boolean':\n\t\t\t\treturn (val) ? 'true' : 'false';\n\t\t\tcase 'number':\n\t\t\t\treturn val + '';\n\t\t\tcase 'object':\n\t\t\t\tif (val instanceof Date) {\n\t\t\t\t\treturn DynUtils.dateToString(val, timeZone || 'local');\n\t\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\t\treturn DynUtils.arrayToList(val, timeZone);\n\t\t\t\t} else if (Buffer.isBuffer(val)) {\n\t\t\t\t\treturn DynUtils.bufferToString(val);\n\t\t\t\t} else if (typeof val.toDynUtils === 'function') {\n\t\t\t\t\treturn String(val.toDynUtils());\n\t\t\t\t} else if (stringifyObjects) {\n\t\t\t\t\treturn DynUtils.escapeString(val.toString());\n\t\t\t\t} else {\n\t\t\t\t\treturn DynUtils.objectToValues(val, timeZone);\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn DynUtils.escapeString(val);\n\t\t}\n\t};\n\n\tpublic static arrayToList(array: any[], timeZone: number) {\n\t\tlet sql = '';\n\n\t\tfor (let i = 0; i < array.length; i++) {\n\t\t\tlet val = array[i];\n\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\tsql += (i === 0 ? '' : ', ') + '(' + DynUtils.arrayToList(val, timeZone) + ')';\n\t\t\t} else {\n\t\t\t\tsql += (i === 0 ? '' : ', ') + DynUtils.escape(val, true, timeZone);\n\t\t\t}\n\t\t}\n\n\t\treturn sql;\n\t}\n\n\tpublic static format(sql: string, values: any[], stringifyObjects: boolean, timeZone: number) {\n\t\tif (values == null) {\n\t\t\treturn sql;\n\t\t}\n\n\t\tif (!(values instanceof Array || Array.isArray(values))) {\n\t\t\tvalues = [values];\n\t\t}\n\n\t\tlet chunkIndex = 0;\n\t\tlet placeholdersRegex = /\\?+/g;\n\t\tlet result = '';\n\t\tlet valuesIndex = 0;\n\t\tlet match;\n\n\t\twhile (valuesIndex < values.length && (match = placeholdersRegex.exec(sql))) {\n\t\t\tlet len = match[0].length;\n\n\t\t\tif (len > 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet value = len === 2\n\t\t\t\t? DynUtils.escapeId(values[valuesIndex])\n\t\t\t\t: DynUtils.escape(values[valuesIndex], stringifyObjects, timeZone);\n\n\t\t\tresult += sql.slice(chunkIndex, match.index) + value;\n\t\t\tchunkIndex = placeholdersRegex.lastIndex;\n\t\t\tvaluesIndex++;\n\t\t}\n\n\t\tif (chunkIndex === 0) {\n\t\t\t// Nothing was replaced\n\t\t\treturn sql;\n\t\t}\n\n\t\tif (chunkIndex < sql.length) {\n\t\t\treturn result + sql.slice(chunkIndex);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic static dateToString(date: any, timeZone: any): string {\n\t\tlet dt = new Date(date);\n\n\t\tif (isNaN(dt.getTime())) {\n\t\t\treturn 'NULL';\n\t\t}\n\n\t\tlet year, month, day, hour, minute, second, millisecond: number;\n\n\t\tif (timeZone === 'local') {\n\t\t\tyear = dt.getFullYear();\n\t\t\tmonth = dt.getMonth() + 1;\n\t\t\tday = dt.getDate();\n\t\t\thour = dt.getHours();\n\t\t\tminute = dt.getMinutes();\n\t\t\tsecond = dt.getSeconds();\n\t\t\tmillisecond = dt.getMilliseconds();\n\t\t} else {\n\t\t\tlet tz = DynUtils.convertStrToTimezone(timeZone);\n\n\t\t\tif (tz != 0) {\n\t\t\t\tdt.setTime(dt.getTime() + (tz * 60000));\n\t\t\t}\n\n\t\t\tyear = dt.getUTCFullYear();\n\t\t\tmonth = dt.getUTCMonth() + 1;\n\t\t\tday = dt.getUTCDate();\n\t\t\thour = dt.getUTCHours();\n\t\t\tminute = dt.getUTCMinutes();\n\t\t\tsecond = dt.getUTCSeconds();\n\t\t\tmillisecond = dt.getUTCMilliseconds();\n\t\t}\n\n\t\t// YYYY-MM-DD HH:mm:ss.mmm\n\t\tvar str = DynUtils.zeroPad(year, 4) + '-' + DynUtils.zeroPad(month, 2) + '-' + DynUtils.zeroPad(day, 2) + ' ' +\n\t\t\tDynUtils.zeroPad(hour, 2) + ':' + DynUtils.zeroPad(minute, 2) + ':' + DynUtils.zeroPad(second, 2) + '.' +\n\t\t\tDynUtils.zeroPad(millisecond, 3);\n\n\t\treturn DynUtils.escapeString(str);\n\t};\n\n\tpublic static bufferToString(buffer: any): string {\n\t\treturn 'X' + DynUtils.escapeString(buffer.toString('hex'));\n\t};\n\n\tpublic static objectToValues(object: any, timeZone: number) {\n\t\tlet sql = '';\n\n\t\tfor (let key in object) {\n\t\t\tlet val = object[key];\n\n\t\t\tif (typeof val === 'function') {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tsql += (sql.length === 0 ? '' : ', ') + DynUtils.escapeId(key)\n\t\t\t\t+ ' = ' + DynUtils.escape(val, true, timeZone);\n\t\t}\n\n\t\treturn sql;\n\t}\n\n\tpublic static raw(sql: string) {\n\t\tif (typeof sql !== 'string') {\n\t\t\tthrow new TypeError('argument sql must be a string');\n\t\t}\n\n\t\treturn {\n\t\t\ttoDynUtils: function toDynUtils() {\n\t\t\t\treturn sql;\n\t\t\t}\n\t\t};\n\t}\n\n\tpublic static escapeString(val: any): string {\n\t\tif (typeof val !== \"string\") {\n\t\t\treturn val;\n\t\t}\n\n\t\tlet chunkIndex = CHARS_GLOBAL_REGEXP.lastIndex = 0;\n\t\tlet escapedVal = '';\n\t\tlet match;\n\n\t\twhile ((match = CHARS_GLOBAL_REGEXP.exec(val))) {\n\t\t\tescapedVal += val.slice(chunkIndex, match.index) + CHARS_ESCAPE_MAP[match[0]];\n\t\t\tchunkIndex = CHARS_GLOBAL_REGEXP.lastIndex;\n\t\t}\n\n\t\tif (chunkIndex === 0) {\n\t\t\t// Nothing was escaped\n\t\t\treturn \"'\" + val + \"'\";\n\t\t}\n\n\t\tif (chunkIndex < val.length) {\n\t\t\treturn \"'\" + escapedVal + val.slice(chunkIndex) + \"'\";\n\t\t}\n\n\t\treturn \"'\" + escapedVal + \"'\";\n\t}\n\n\tpublic static zeroPad(value: any, length: number): string {\n\t\tvalue = value.toString();\n\n\t\twhile (value.length < length) {\n\t\t\tvalue = '0' + value;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tpublic static convertStrToTimezone(tz: string): number {\n\t\tif (tz === 'Z') {\n\t\t\treturn 0;\n\t\t}\n\n\t\tlet m = tz.match(/([\\+\\-\\s])(\\d\\d):?(\\d\\d)?/);\n\t\tif (m) {\n\t\t\treturn (m[1] === '-' ? -1 : 1) * (parseInt(m[2], 10) + ((m[3] ? parseInt(m[3], 10) : 0) / 60)) * 60;\n\t\t}\n\n\t\treturn 0;\n\t}\n}\n","import { VarType } from \"./utils\";\n\n/**\n * Coldmind AB (\"COMPANY\") CONFIDENTIAL\n * Unpublished Copyright (c) 2020 Coldmind AB, All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains the property of COMPANY. The intellectual and technical concepts contained\n * herein are proprietary to COMPANY and may be covered by U.S. and Foreign Patents, patents in process, and are protected by trade secret or copyright law.\n * Dissemination of this information or reproduction of this material is strictly forbidden unless prior written permission is obtained\n * from COMPANY.  Access to the source code contained herein is hereby forbidden to anyone except current COMPANY employees, managers or contractors who have executed\n * Confidentiality and Non-disclosure agreements explicitly covering such access.\n *\n * The copyright notice above does not evidence any actual or intended publication or disclosure  of  this source code, which includes\n * information that is confidential and/or proprietary, and is a trade secret, of  COMPANY.   ANY REPRODUCTION, MODIFICATION, DISTRIBUTION, PUBLIC  PERFORMANCE,\n * OR PUBLIC DISPLAY OF OR THROUGH USE  OF THIS  SOURCE CODE  WITHOUT  THE EXPRESS WRITTEN CONSENT OF COMPANY IS STRICTLY PROHIBITED, AND IN VIOLATION OF APPLICABLE\n * LAWS AND INTERNATIONAL TREATIES.  THE RECEIPT OR POSSESSION OF  THIS SOURCE CODE AND/OR RELATED INFORMATION DOES NOT CONVEY OR IMPLY ANY RIGHTS\n * TO REPRODUCE, DISCLOSE OR DISTRIBUTE ITS CONTENTS, OR TO MANUFACTURE, USE, OR SELL ANYTHING THAT IT  MAY DESCRIBE, IN WHOLE OR IN PART.\n *\n * Created by Patrik Forsberg <patrik.forsberg@coldmind.com>\n * File Date: 2020-04-02 15:20\n *\n ************************************************\n * Description:\n *\n */\n\nexport class VarUtils {\n\tpublic static getVarType(value: any): VarType {\n\t\tlet result: VarType = VarType.None;\n\n\t\tif (value === undefined || value === null) {\n\t\t\treturn VarType.NullOrUndefined;\n\t\t}\n\n\t\tswitch (typeof value) {\n\t\t\tcase 'string':\n\t\t\t\tresult = VarType.String;\n\t\t\t\tbreak;\n\n\t\t\tcase 'boolean':\n\t\t\t\tresult = VarType.Boolean;\n\t\t\t\tbreak;\n\n\t\t\tcase 'number':\n\t\t\t\tresult = VarType.Number;\n\t\t\t\tbreak;\n\n\t\t\tcase 'object':\n\t\t\t\tif (value instanceof Date) {\n\t\t\t\t\tresult = VarType.Date;\n\n\t\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\t\tresult = VarType.Array;\n\n\t\t\t\t} else if (Buffer.isBuffer(value)) {\n\t\t\t\t\tresult = VarType.Buffer;\n\n\t\t\t\t} else {\n\t\t\t\t\tresult = VarType.Object;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Checks wheater a given variable is of string type\n\t * and has a length greater than 0\n\t * @param value - variable\n\t */\n\tpublic static haveStrValue(value: any): boolean {\n\t\tconst varType = VarUtils.getVarType(value);\n\n\t\treturn value !== undefined\n\t\t\t&& varType === VarType.String\n\t\t\t&& (value as string).length > 0;\n\t}\n}\n","/**\n * The file is part of the ZynapticSQL project\n * Copyright (C) 2020 Patrik Forsberg <patrik.forsberg@coldmind.com>\n * Licensed under the GNU Lesser General Public License, Version 3.0\n * Find a full copy of the license in the LICENSE.md file located in the project root.\n */\n\nimport {\n\tIDRecord,\n\tColumnArray,\n\tCompareType,\n\tOrderType\n} from \"../types\";\nimport { VarUtils } from \"../var.utils\";\n\ntype ZynSql = any;\n\nexport class DJoin implements IDRecord {\n\tconstructor(public columns: ColumnArray) {}\n}\n\nexport class DInQuery implements IDRecord {\n\tconstructor(public query: ZynSql) {}\n}\n\nexport class DUpdate implements IDRecord {\n\tconstructor(public table: string) {}\n}\n\nexport class DInsert implements IDRecord {\n\tpublic mySQLReplace: boolean = false;\n\n\tconstructor(\n\t\tpublic data: any,\n\t\tpublic tableName: string\n\t) {}\n}\n\nexport class DDelete implements IDRecord {\n\tconstructor() {}\n}\n\nexport class DDrop implements IDRecord {\n\tconstructor(public tableName: string) {}\n}\n\nexport class DWith implements IDRecord {\n\tpublic data: Array<string>;\n\tconstructor(...data: Array<any>) {\n\t\tthis.data = data;\n\t}\n}\n\nexport class DInto implements IDRecord {\n\tconstructor(public tableName: string) {}\n}\n\nexport class DSelect implements IDRecord {\n\tpublic haveAlias: boolean;\n\n\tconstructor(public column: string, public alias?: string) {\n\t\tthis.haveAlias = alias != null;\n\t}\n}\n\nexport class DSelectAll implements IDRecord {\n\tpublic haveAlias: boolean;\n\n\tconstructor(public column: string, public alias?: string) {\n\t\tthis.haveAlias = VarUtils.haveStrValue(alias);\n\t}\n}\n\nexport class DSet implements IDRecord {\n\tconstructor(public column: string,\n\t\t\t\tpublic value: any,\n\t\t\t\tpublic escape: boolean = true) {}\n}\n\nexport class DLeftJoin implements IDRecord {\n\tconstructor(\n\t\tpublic table: string,\n\t\tpublic on: string,\n\t\tpublic value: any = null,\n\t\tpublic escapeVal: boolean = true\n\t) {}\n}\n\nexport class DFrom implements IDRecord {\n\tconstructor(public table: string, public alias?: string) {}\n}\n\nexport class DInsertExt implements IDRecord {\n\tpublic mySQLReplace: boolean = false;\n\n\tconstructor(\n\t\tpublic data: any,\n\t\tpublic tableName: string\n\t) {}\n}\n\nexport class DAnd implements IDRecord {\n\tconstructor(public column: string,\n\t\t\t\tpublic value: any = undefined,\n\t\t\t\tpublic compare: CompareType = CompareType.Equal,\n\t\t\t\tpublic escapeVal: boolean = true) {}\n}\n\nexport class DOrderBy implements IDRecord {\n\tconstructor(public fieldName: string,\n\t\t\t\tpublic orderType: OrderType = OrderType.None,\n\t\t\t\tpublic escapeVal?: boolean) {}\n}\n\nexport class DLimit implements IDRecord {\n\tconstructor(public fromValue: number, public toValue?: number) {};\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * The file is part of the ZynapticSQL project\n * Copyright (C) 2020 Patrik Forsberg <patrik.forsberg@coldmind.com>\n * Licensed under the GNU Lesser General Public License, Version 3.0\n * Find a full copy of the license in the LICENSE.md file located in the project root.\n */\n\nimport { CompareType, IDRecord } from \"../types\";\n\nexport class DWhere implements IDRecord {\n\tconstructor(\n\t\tpublic data: any,\n\t\tpublic value2: any = null,\n\t\tpublic whereType: CompareType = CompareType.Equal\n\t) {}\n}\n\nexport class DOrWhere extends DWhere implements IDRecord {}\n\nexport class DAndWhere extends DWhere implements IDRecord {}\n\nexport class DAndOrWhere extends DWhere implements IDRecord {}\n\nexport class DOrAndWhere extends DWhere implements IDRecord {}\n\nexport class DWhereSimple implements IDRecord {\n\tconstructor(public value1: any,\n\t\t\t\tpublic value2: any = null,\n\t\t\t\tpublic whereType: CompareType = CompareType.Equal,\n\t\t\t\tpublic escape: boolean = true) {}\n}\n\nexport class DWhereBetween implements IDRecord {\n\tconstructor(\n\t\tpublic type: CompareType,\n\t\tpublic that: any,\n\t\tpublic value1: any,\n\t\tpublic value2?: any\n\t) {}\n}\n","/**\n * The file is part of the ZynapticSQL project\n * Copyright (C) 2020 Patrik Forsberg <patrik.forsberg@coldmind.com>\n * Licensed under the GNU Lesser General Public License, Version 3.0\n * Find a full copy of the license in the LICENSE.md file located in the project root.\n */\n\nimport { DynUtils } from \"./utils\";\nimport {\n\tDAnd,\n\tDFrom,\n\tDLeftJoin,\n\tDLimit,\n\tDOrderBy,\n\tDSelect,\n\tDSelectAll,\n\tDSet,\n\tDInsert,\n\tDUpdate,\n\tDInto,\n\tDWith,\n\tDJoin,\n\tDInQuery,\n\tDDelete,\n\tDDrop\n} from \"./records/records\";\nimport { CompareType, DataType, OrderType, SqlCommands } from \"./types\";\nimport {\n\tDAndOrWhere,\n\tDAndWhere, DOrAndWhere, DOrWhere, DWhere, DWhereBetween, DWhereSimple\n} from \"./records/where-record\";\n\nexport interface IDRecord { }\n\nexport class DataColumn {\n\tdataType: DataType;\n\tname: string;\n\tlength: number;\n\n\tconstructor(public value: any) {}\n}\n\nenum JoinType {\n\tInner,\n\tOuter,\n\tLeft,\n\tRight,\n\tCross\n}\n\ninterface Column {\n\tname: string;\n\tvalue: any;\n\tjoin?: JoinType;\n}\n\ntype ColumnArray = Array<Column>;\n\n\n/**\n * Simple Active Record implementation\n * Note: This does not add any intelligens, stupid behaviour such\n * as calling an SELECT after a SET, broken SQL will remain broken :)\n */\nexport interface IZynSql {\n\n}\n\nexport class ZynSql implements IZynSql {\n\tprotected records: Array<IDRecord>;\n\n\tdbName?: string;\n\n\tconstructor(dbName?: string) {\n\t\tthis.dbName = dbName;\n\t\tthis.records = new Array<IDRecord>();\n\t}\n\n\tpublic clear() {\n\t\tthis.records.length = 0;\n\t}\n\n\tpublic debugShowAll(): void {\n\t\tfor (let item of this.records) {\n\t\t\tconsole.log('item ::', item);\n\t\t}\n\t}\n\n\tprivate isWhereRec(arec: any): boolean {\n\t\treturn (arec instanceof DOrWhere\n\t\t\t|| arec instanceof DAndWhere\n\t\t\t|| arec instanceof DWhere\n\t\t\t|| arec instanceof DAndOrWhere\n\t\t\t|| arec instanceof DOrAndWhere\n\t\t\t|| arec instanceof DWhereSimple\n\t\t);\n\t}\n\n\tprivate isSelectRec(arec: any): boolean {\n\t\treturn (arec instanceof DSelect || arec instanceof DSelectAll);\n\t}\n\n\tprotected currRec: IDRecord = undefined;\n\tprotected prevRec: IDRecord = undefined;\n\n\tpublic toSql(): string {\n\t\tlet sql: string = \"\";\n\n\t\tfor (let i = 0; i < this.records.length; i++) {\n\t\t\tthis.prevRec = this.currRec;\n\t\t\tthis.currRec = this.records[i];\n\n\t\t\tif (this.currRec instanceof DSelect) {\n\t\t\t\tsql += this.parseSelect();\n\t\t\t}\n\n\t\t\tif (this.currRec instanceof DSelectAll) {\n \t\t\t\tsql += this.parseSelectAll();\n\t\t\t}\n\n\t\t\tif (this.currRec instanceof DFrom) {\n\t\t\t\tsql += this.parseFrom();\n\t\t\t}\n\n\t\t\tif (this.currRec instanceof DSet) {\n\t\t\t\tsql += this.parseSet();\n\t\t\t}\n\n\t\t\tif (this.currRec instanceof DLeftJoin) {\n\t\t\t\tsql += this.parseLeftJoin();\n\t\t\t}\n\n\t\t\tif (this.isWhereRec(this.currRec)) {\n\t\t\t\tsql += this.parseWhere();\n\t\t\t}\n\n\t\t\tif (this.currRec instanceof DAnd) {\n\t\t\t\tsql += this.parseAnd();\n\t\t\t}\n\n\t\t\tif (this.currRec instanceof DOrderBy) {\n\t\t\t\tsql += this.parseOrderBy();\n\t\t\t}\n\n\t\t\tif (this.currRec instanceof DLimit) {\n\t\t\t\tsql += this.parseLimit();\n\t\t\t}\n\t\t}\n\n\t\treturn sql;\n\t}\n\n\t/**\n\t * Returns the previous record from a given\n\t * record in the record array\n\t * @param {IDRecord} record\n\t * @returns {IDRecord}\n\t */\n\tprivate getPreviousRecord(record: IDRecord): IDRecord | null {\n\t\tlet result: IDRecord;\n\t\tlet index = this.records.indexOf(record);\n\n\t\tif (index > -1 && index -1 > 0) {\n\t\t\tresult = this.records[index] as IDRecord;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic selectAll(...elements: Array<string> | null) {\n\t\t// Be nice, if no parameter is passed add an asterisk\n\t\tif (!elements) {\n\t\t\telements.push(\"kalle\")\n\t\t}\n\n\t\tfor (let item in elements) {\n\t\t\tlet name = elements[item];\n\t\t\tthis.records.push(new DSelectAll(name));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tpublic get(table: string) {\n\t\tthis.records.push(new DSelect('*'));\n\t\tlet rec = new DFrom(table);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic select(...param: Array<string>): ZynSql {\n\t\tfor (let item in param) {\n\t\t\tlet name = param[item];\n\t\t\tthis.records.push(new DSelect(name));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tpublic update(table: string): ZynSql {\n\t\tthis.records.push(new DUpdate(table));\n\t\treturn this;\n\t}\n\n\tpublic insert(data: any, tableName: string): ZynSql {\n\t\tthis.records.push(new DInsert(data, tableName));\n\t\treturn this;\n\t}\n\n\tpublic with(...data: Array<any>): ZynSql {\n\t\tthis.records.push(new DWith(data));\n\t\treturn this;\n\t}\n\n\tpublic into(tableName: string): ZynSql {\n\t\tthis.records.push(new DInto(tableName));\n\t\treturn this;\n\t}\n\n\tpublic set(column: string, value: any): ZynSql {\n\t\tthis.records.push(new DSet(column, value));\n\t\treturn this;\n\t}\n\n\tpublic join(columns: ColumnArray): ZynSql {\n\t\tthis.records.push(new DJoin(columns));\n\t\treturn this;\n\t}\n\n\tpublic inQuery(dynSql: ZynSql): ZynSql {\n\t\tthis.records.push(new DInQuery(dynSql));\n\t\treturn this;\n\t}\n\n\tpublic joinTable(table: string, on: string, value?: any, escapeVal: boolean = true): ZynSql {\n\t\tthis.records.push(new DLeftJoin(table, on, value, escapeVal));\n\t\treturn this;\n\t}\n\n\tpublic selectAs(fromTable: string, alias: string = null): ZynSql {\n\t\tthis.records.push(new DSelect(fromTable, alias));\n\t\treturn this;\n\t}\n\n\tpublic from(table: string, alias: string = null): ZynSql {\n\t\tlet rec = new DFrom(table, alias);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic where(value1: any, value2: any = null,\n\t\t\t\t whereType: CompareType = CompareType.Equal,\n\t\t\t\t escapeValue: boolean = true): ZynSql {\n\t\tlet rec = new DWhereSimple(value1, value2, whereType, escapeValue);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic orWhere(value1: any, value2: any = null, compareType?: CompareType): ZynSql {\n\t\tlet rec = new DOrWhere(value1, value2, compareType);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic andWhere(value1: any, value2: any = null, compareType?: CompareType): ZynSql {\n\t\tlet rec = new DAndWhere(value1, value2, compareType);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic andOrWhere(value1: any, value2: any = null, compareType?: CompareType): ZynSql {\n\t\tlet rec = new DAndOrWhere(value1, value2, compareType);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic orAndWhere(value1: any, value2: any = null, compareType?: CompareType): ZynSql {\n\t\tlet rec = new DOrAndWhere(value1, value2, compareType);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a Where record to the active record stack\n\t * @param thisElem\n\t * @param elemIs\n\t * @param escapeValue - set this to true when handling user inputted values, false when like \"lucas.arts=rulez.row\"\n\t * @returns {ZynSql}\n\t */\n\tpublic whereIs(whereParamsObj: any, value2?: any, whereType: CompareType = CompareType.Equal): ZynSql {\n\t\tlet rec = new DWhere(whereParamsObj, value2, whereType);\n\t\tthis.records.push(rec);\n\n\t\treturn this;\n\t}\n\n\t/*\n\tpublic whereIs(whereParamsObj: any, escapeValue: boolean = true): ZynSql {\n\t\tlet rec = new DWhere(whereParamsObj, escapeValue);\n\t\tthis.records.push(rec);\n\n\t\treturn this;\n\t}\n\t*/\n\n\t// withintrig\n\tpublic whereBetween(value: any, rangeStart: any, rangeEnd: any): ZynSql {\n\t\tDynUtils.escape(value);\n\n\t\tlet rec = new DWhereBetween(CompareType.Between, value, rangeStart, rangeEnd);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic orderBy(column: string, orderType: OrderType = OrderType.None): ZynSql {\n\t\tlet rec = new DOrderBy(column, orderType);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic orderByRand(): ZynSql {\n\t\tlet rec = new DOrderBy(\"RAND()\");\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic and(col: string, value: any = null, compType: CompareType = CompareType.Equal, escapeVal: boolean = true) {\n\t\tlet rec = new DAnd(col, value, compType, escapeVal);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\tpublic limitBy(fromValue: number, toValue: number = null): ZynSql {\n\t\tlet rec = new DLimit(fromValue, toValue);\n\t\tthis.records.push(rec);\n\t\treturn this;\n\t}\n\n\t///////////////////////////////////////////\n\t//\n\t//     TEST JOIN\n\t//\n\t///////////////////////////////////////////\n\n\tfindRecord(recType: IDRecord): IDRecord {\n\t\tlet result = this.findRecords(recType);\n\t\tif (result.length > 0) {\n\t\t\treturn result[0];\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tfindRecords(recType: IDRecord, firstHit: boolean = false): Array<IDRecord> {\n\t\tlet result: Array<IDRecord> = [];\n\t\tfor (let i = 0; i < this.records.length; i++) {\n\t\t\tlet record = this.records[i];\n\n\t\t\tif (typeof record === recType) {\n\t\t\t\tresult.push(record);\n\t\t\t\tif (firstHit) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpluck<T, K extends keyof T>(o: T, propertyNames: K[]): T[K][] {\n\t\treturn propertyNames.map(n => o[n]);\n\t}\n\n\tprivate parseJoin(): string {\n\t\tlet localCounter = 0;\n\n\t\tfor (let i = 0; i < this.records.length; i++) {\n\t\t\tlet record = this.records[i];\n\n\t\t\tif (record instanceof DJoin) {\n\t\t\t\tconst dRec = record as DJoin;\n\n\t\t\t}\n\t\t}\n\n\t\treturn \"\";\n\t}\n\n\t////////////////////////////////////////\n\t//\n\t//     SELECT\n\t//\n\t////////////////////////////////////////\n\tpublic escpaeVal(value: any): string {\n\t\tlet result = value;\n\n\t\tif (typeof value === \"string\") {\n\t\t\tresult = DynUtils.escape(value);\n\t\t}\n\t\telse if (typeof value === \"object\") {\n\t\t\tresult = DynUtils.escape(value);\n\t\t} else {\n\t\t\tresult = value;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprotected parseInsert(): string {\n\t\tlet record = this.records[0];\n\n\t\tif (!(record instanceof DInsert))\n\t\t\treturn \"\";\n\n\t\tlet result = \"\";\n\t\tconst dRec: DInsert = record as DInsert;\n\t\tlet insertType = dRec.mySQLReplace ? SqlCommands.DbMySqlReplace : SqlCommands.DbInsert;\n\n\t\tlet colNames = new Array<string>();\n\t\tlet colValues = new Array<any>();\n\n\t\tlet obj = dRec.data;\n\n\t\tfor (let key in obj) {\n\t\t\tif (obj.hasOwnProperty(key) ) {\n\t\t\t\tcolNames.push(key);\n\t\t\t\tcolValues.push(obj[key]);\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < colValues.length; i++) {\n\t\t\tcolValues[i] = this.escpaeVal(colValues[i]);\n\t\t}\n\n\t\tresult = `${insertType} INTO ${dRec.tableName} (${colNames.join(\",\")}) VALUES (${colValues.join(\",\")})`;\n\n\t\treturn result;\n\t}\n\n\t////////////////////////////////////////\n\t//\n\t//     SELECT\n\t//\n\t///////////////////////////////////////\n\tprotected parseSelect(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DSelect) {\n\t\t\tconst rec = this.currRec as DSelect;\n\n\t\t\tif (this.isSelectRec(this.prevRec)) {\n\t\t\t\tresult += \",\";\n\t\t\t} else {\n\t\t\t\tresult += \"SELECT\"\n\t\t\t}\n\n\t\t\tresult += \" \" + rec.column;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tparseSelectAll(): string {\n\t\tlet result = \"\";\n\n\t\tconsole.log(\"** parseSelectAll\");\n\n\t\tif (this.currRec instanceof DSelectAll) {\n\t\t\tconst rec = this.currRec as DSelectAll;\n\n\t\t\tif (this.isWhereRec(this.prevRec)) {\n\t\t\t\tresult += \"SELECT\"\n\t\t\t} else {\n\t\t\t\tresult += \",\";\n\t\t\t}\n\n\t\t\tresult += \" \" + rec.column + \".*\";\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t////////////////////////////////////////\n\t//\n\t//     UPDATE\n\t//\n\t///////////////////////////////////////\n\tparseUpdate(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DUpdate) {\n\t\t\tconst rec = this.currRec as DUpdate;\n\t\t\tresult = \"UPDATE \" + rec.table;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t////////////////////////////////////////\n\t//\n\t//     DELETE\n\t//\n\t///////////////////////////////////////\n\tparseDelete(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DDelete) {\n\t\t\tresult = \"DELETE\";\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t////////////////////////////////////////\n\t//\n\t//     DROP\n\t//\n\t///////////////////////////////////////\n\tparseDrop(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DDrop) {\n\t\t\tconst rec = this.currRec as DDrop;\n\t\t\tresult = \"DROP \" + DynUtils.escape(rec.tableName);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t////////////////////////////////////////\n\t//\n\t//     FROM\n\t//\n\t///////////////////////////////////////\n\tparseFrom(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DFrom) {\n\t\t\tconst rec = this.currRec as DFrom;\n\n\t\t\tif (this.prevRec instanceof DFrom) {\n\t\t\t\tresult += \",\";\n\t\t\t} else {\n\t\t\t\tresult += \" \" + SqlCommands.DbFrom;\n\t\t\t}\n\n\t\t\tresult += \" \" + rec.table;\n\n\t\t\tif (rec.alias != null) {\n\t\t\t\tresult += \" AS \" + rec.alias;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t////////////////////////////////////////\n\t//\n\t//     SET\n\t//\n\t///////////////////////////////////////\n\tparseSet(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DSet) {\n\t\t\tconst rec = this.currRec as DSet;\n\n\t\t\tif (this.prevRec instanceof DSet) {\n\t\t\t\tresult += \" SET\"\n\t\t\t} else {\n\t\t\t\tresult += \" ,\";\n\t\t\t}\n\n\t\t\tlet val = rec.escape ? DynUtils.escape(rec.value) : rec.value;\n\t\t\tresult += \" \" + rec.column + \"='\" + val + \"'\";\n\t\t}\n\n\t\treturn result;\n\n\t} // parseSet\n\n\t////////////////////////////////////////\n\t//\n\t//     LEFT JOIN\n\t//\n\t//...\n\t////////////////////////////////////////\n\tparseLeftJoin(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DLeftJoin) {\n\t\t\tconst rec = this.currRec as DLeftJoin;\n\n\t\t\tresult += \" LEFT JOIN \"\n\t\t\t\t+ rec.table + \" ON \"\n\t\t\t\t+ rec.on;\n\n\t\t\tif (rec.value) {\n\t\t\t\trec.value = rec.escapeVal ? DynUtils.escape(rec.value) : rec.value;\n\t\t\t\tresult += \" = \" + rec.value;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\n\t} // parseLeftJoin\n\n\t////////////////////////////////////////\n\t//\n\t//     WHERE\n\t//\n\t////////////////////////////////////////\n\tparseWhere(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.isWhereRec(this.prevRec)) {\n\t\t\tresult += \" AND \";\n\t\t} else {\n\t\t\tresult += \" WHERE \";\n\t\t}\n\n\t\tif (this.currRec instanceof DWhereSimple) {\n\t\t\tresult += DynUtils.parseCompareType(\n\t\t\t\t\t\t\t\t\t\tthis.currRec.value1,\n\t\t\t\t\t\t\t\t\t\tthis.currRec.value2,\n\t\t\t\t\t\t\t\t\t\tthis.currRec.whereType\n\t\t\t\t\t\t\t\t\t);\n\t\t}\n\n\t\t//\n\t\t// Where\n\t\t//\n\t\tif (this.currRec instanceof DWhere) {\n\t\t\tconst rec = this.currRec as DWhere;\n\n\t\t\tif (typeof rec.data === \"string\") {\n\t\t\t\tresult += rec.data;\n\n\t\t\t} else {\n\t\t\t\tlet colNames = new Array<string>();\n\t\t\t\tlet colValues = new Array<any>();\n\n\t\t\t\tlet obj = rec.data;\n\n\t\t\t\tfor (let key in obj) {\n\t\t\t\t\tif (obj.hasOwnProperty(key) ) {\n\t\t\t\t\t\tcolNames.push(key);\n\t\t\t\t\t\tcolValues.push(obj[key]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet colData = Array<string>();\n\n\t\t\t\tfor (let i = 0; i < colValues.length; i++) {\n\t\t\t\t\tcolData.push(`${ colNames[i] }=${ DynUtils.escape(colValues[i]) }`);\n\t\t\t\t}\n\n\t\t\t\tresult += colData.join(\" AND \");\n\t\t\t}\n\t\t}\n\n\n\t\t/*\n\t\tfor (let i = 0; i < this.records.length; i++) {\n\t\t\tlet record = this.records[i];\n\n\t\t\tif (!this.isWhereRecord(record)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (firstIteration) {\n\t\t\t\tsql += \" WHERE \";\n\t\t\t} else {\n\t\t\t\tsql += \" AND \";\n\t\t\t}\n\n\t\t\t//\n\t\t\t// Where\n\t\t\t//\n\t\t\tif (record instanceof DWhere) {\n\t\t\t\tif (typeof record.data === \"string\") {\n\t\t\t\t\tsql += record.data;\n\t\t\t\t} else {\n\t\t\t\t\tlet whereRec =  record as DWhere;\n\n\t\t\t\t\tlet colNames = new Array<string>();\n\t\t\t\t\tlet colValues = new Array<any>();\n\n\t\t\t\t\tlet obj = whereRec.data;\n\n\t\t\t\t\tfor (let key in obj) {\n\t\t\t\t\t\tif (obj.hasOwnProperty(key) ) {\n\t\t\t\t\t\t\tcolNames.push(key);\n\t\t\t\t\t\t\tcolValues.push(obj[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet colData = Array<string>();\n\n\t\t\t\t\tfor (let i = 0; i < colValues.length; i++) {\n\t\t\t\t\t\tcolData.push(`${colNames[i]}=${this.escpaeVal(colValues[i])}`);\n\t\t\t\t\t}\n\n\t\t\t\t\tsql += colData.join(\" AND \");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t////////////////////////////////////////////////\n\t\t\t//\n\t\t\t//  SIMPLE WHERE\n\t\t\t//\n\t\t\t///////////////////////////////////////////////\n\n\t\t\telse if (record instanceof DWhereSimple) {\n\t\t\t\tlet rec = record as DWhereSimple;\n\n\t\t\t\tlet aRec: any = rec;\n\t\t\t\twhile (isWhereRec(rec)) {\n\t\t\t\t\taRec = this.records[i];\n\t\t\t\t\tconsole.log(\">>>>>>>####### :::\", aRec);\n\t\t\t\t\t//console.log(\"rec\", aRec)\n\n\t\t\t\t\tsql += DynUtils.parseCompareType(rec.value1, rec.value2, rec.whereType);\n\n\t\t\t\t\tif (i +1 >= this.records.length) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirstIteration = false;\n\t\t} // end for\n\n\t\t*/\n\n\t\treturn result;\n\n\t} // parseWhere\n\n\t////////////////////////////////////////\n\t//\n\t//      And\n\t//\n\t////////////////////////////////////////\n\tpublic parseAnd(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DAnd) {\n\t\t\tlet rec = this.currRec as DAnd;\n\t\t\tresult += \" AND \";\n\n\t\t\tif (rec.value !== undefined) {\n\t\t\t\t// Special case for null value\n\t\t\t\tif (rec.value === null) {\n\t\t\t\t\tswitch (rec.compare) {\n\t\t\t\t\t\tcase CompareType.Equal:\n\t\t\t\t\t\t\tresult += \" IS NULL\";\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase CompareType.NotEqual:\n\t\t\t\t\t\t\tresult += \" NOT NULL\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tresult += DynUtils.parseCompareType(\n\t\t\t\t\t\trec.column,\n\t\t\t\t\t\trec.value,\n\t\t\t\t\t\trec.compare\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t////////////////////////////////////////\n\t//\n\t//  Order\n\t//\n\t///////////////////////////////////////\n\tparseOrderBy(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DOrderBy) {\n\t\t\tlet rec = this.currRec as DOrderBy;\n\n\t\t\tif (this.prevRec instanceof DOrderBy) {\n\t\t\t\tresult += \", \";\n\t\t\t} else {\n\t\t\t\tresult += \" ORDER BY \";\n\t\t\t}\n\n\t\t\tresult += rec.fieldName;\n\n\t\t\tif (rec.orderType !== OrderType.None) {\n\t\t\t\tswitch (rec.orderType) {\n\t\t\t\t\tcase OrderType.Asc:\n\t\t\t\t\t\tresult += \" ASC\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase OrderType.Desc:\n\t\t\t\t\t\tresult += \" DESC\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t} // end parseOrderBy\n\n\t////////////////////////////////////////\n\t//\n\t//  Limit\n\t//\n\t///////////////////////////////////////\n\tparseLimit(): string {\n\t\tlet result = \"\";\n\n\t\tif (this.currRec instanceof DLimit) {\n\t\t\tconst rec = this.currRec as DLimit;\n\t\t\tresult += \" LIMIT \" + rec.fromValue;\n\n\t\t\tif (rec.toValue != null) {\n\t\t\t\tresult += \", \" + rec.toValue;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\n\t} // end parseLimit\n}\n"],"names":["JoinType"],"mappings":"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"}